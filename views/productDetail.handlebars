<div class="row">
    <div class="col-md-6">
        {{#if product.thumbnails.[0]}}
        <img src="{{product.thumbnails.[0]}}" class="img-fluid rounded" alt="{{product.title}}">
        {{else}}
        <div class="bg-light d-flex align-items-center justify-content-center" style="height: 400px;">
            <span class="text-muted">Sin imagen</span>
        </div>
        {{/if}}
    </div>
    <div class="col-md-6">
        <h1>{{product.title}}</h1>
        <p class="lead">{{product.description}}</p>
        
        <div class="mb-3">
            <h3 class="text-primary">${{product.price}}</h3>
        </div>
        
        <div class="mb-3">
            <span class="badge {{#if product.status}}bg-success{{else}}bg-danger{{/if}} fs-6">
                {{#if product.status}}Disponible{{else}}No disponible{{/if}}
            </span>
        </div>
        
        <div class="row mb-3">
            <div class="col-sm-6">
                <strong>C√≥digo:</strong> {{product.code}}
            </div>
            <div class="col-sm-6">
                <strong>Stock:</strong> {{product.stock}} unidades
            </div>
        </div>
        
            </button>
            <a href="/carts/1" class="btn btn-outline-secondary btn-lg ms-2">
                üëÄ Ver Carrito
            </a>
        </div>
        {{/if}}
        
        <div class="mt-3">
            <a href="/" class="btn btn-link">‚Üê Volver a productos</a>
        </div>
    </div>
</div>

{{#if product.thumbnails}}
{{#if product.thumbnails.1}}
<div class="row mt-4">
    <div class="col-12">
        <h4>Im√°genes adicionales:</h4>
        <div class="row">
            {{#each product.thumbnails}}
            {{#unless @first}}
            <div class="col-md-3 mb-3">
                <img src="{{this}}" class="img-fluid rounded shadow" alt="{{../product.title}}">
            </div>
            {{/unless}}
            {{/each}}
        </div>
    </div>
</div>
{{/if}}
{{/if}}

<script>
function addToCart(productId) {
    fetch(`/api/v1/carts/1/products/${productId}`, {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json'
        }
    })
    .then(response => response.json())
    .then(data => {
        if (data.status === 'success') {
            alert('üõí Producto agregado al carrito exitosamente');
        } else {
            alert('‚ùå Error al agregar el producto al carrito');
        }
    })
    .catch(error => {
        console.error('Error:', error);
        alert('‚ùå Error de conexi√≥n');
    });
}
</script>
